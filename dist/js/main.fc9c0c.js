(()=>{"use strict";var e={677:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Snake=void 0,t.Snake=class{constructor(e,t){this.next=null,this.point=[e,t]}nextPoint(e){const[t,n]=this.point;return this.point=e,[t,n]}}},653:(e,t,n)=>{n.r(t)}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{n(653);const e=n(677),t=document.querySelector(".greedy-snake"),o=t.getContext("2d"),{width:r,height:i}=t,c=30,a=30,l=r/a,s=i/c,u=[[-1,0],[0,-1],[1,0],[0,1]];var f;!function(e){e[e.LEFT=0]="LEFT",e[e.TOP=1]="TOP",e[e.RIGHT=2]="RIGHT",e[e.BOTTOM=3]="BOTTOM"}(f||(f={}));let d,T,p,O,v,x=f.BOTTOM;function h(){o.clearRect(0,0,r,i),d=new e.Snake(0,1),T=new e.Snake(0,0),d.next=T,x=f.BOTTOM,k(),M(),b()}function S(){w(),p&&clearInterval(p),p=null,h()}function w(){o.clearRect(0,0,r,i)}function M(){O=Math.floor(Math.random()*a),v=Math.floor(Math.random()*c)}function y(){const[t,n]=u[x];let{point:[o,r]}=d;const i=o+t,l=r+n;if(d.nextPoint([i,l]),i>=a||i<0||l>=c||l<0)return void S();let{next:s}=d,f=!1;for(;s;){o===O&&r===v&&(f=!0);const[e,t]=s.nextPoint([o,r]);o=e,r=t,s=s.next}f&&(T=T.next=new e.Snake(o,r),M()),w(),b(),k()}function k(){let e=d;for(;e;){const[t,n]=e.point,[o,r]=d.point;e===d||t!==o||n!==r?P(t,n,e===d?"red":"#000"):S(),e=e.next}}function b(){o.fillRect(O*l,v*s,l,s)}function P(e,t,n="#000"){o.fillStyle=n,o.fillRect(e*l,t*s,l,s)}window.addEventListener("keyup",(e=>{if(p)switch(e.code){case"ArrowUp":x=f.TOP;break;case"ArrowDown":x=f.BOTTOM;break;case"ArrowLeft":x=f.LEFT;break;case"ArrowRight":x=f.RIGHT}"Space"===e.code&&(p?(clearInterval(p),p=null):(y(),p=setInterval(y,300)))}),!1),h()})()})();